  Endcap FPIX_1 {    
    phiSegments 4
    etaCut 10
    zError 70
    
    trackingTags pixel,tracker

    @include-std CMS_Phase2/Pixel/Materials/disk_FPIX
    @include-std CMS_Phase2/Pixel/Conversions/On_flange/flange_FPIX
    @include-std CMS_Phase2/Pixel/Conversions/On_services_cylinder/stations_serving_TFPX_615
    @include-std CMS_Phase2/Pixel/Materials/Routing/routing_around_TFPX
    
    moduleShape rectangular
    alignEdges true 
    numDisks 8
    bigDelta 0
    outerRadius 160
    numRings 4
    barrelGap 33.325
    maxZ 1300
    bigParity 1
    smallParity -1
    zRotation 1.570796327
    Ring 1 {
      @include-std CMS_Phase2/Pixel/ModuleTypes/pixel_1x2_25x100_wide_3D
      @include-std CMS_Phase2/Pixel/Materials/module_FPIX_R1_1x2_2500_3D
      @include-std CMS_Phase2/Pixel/Resolutions/25x100
      numModules 20
      ringOuterRadius 74.45 
      phiShift -0.008726646259972
      smallDelta 9
      Module 0 {
       twistAng -0.148353
       rhoCentre 53.31
      }
      Module 1 {
       twistAng -0.1153663
       rhoCentre 53.08
      }
      Module 2 {
       twistAng -0.0349066
       rhoCentre 52.76
      }
      Module 3 {
       twistAng -0.0436332
       rhoCentre 52.78
      }
      Module 4 {
       twistAng 0.0122173
       rhoCentre 52.73
      }
      Module 5 {
       twistAng -0.0122173
       rhoCentre 52.73
      }
      Module 6 {
       twistAng 0.0436332
       rhoCentre 52.78
      }
      Module 7 {
       twistAng 0.0349066
       rhoCentre 52.76
      }
      Module 8 {
       twistAng 0.1153663
       rhoCentre 53.08
      }
      Module 9 {
       twistAng 0.148353
       rhoCentre 53.31
      }
      Module 10 {
       twistAng -0.148353
       rhoCentre 53.31
      }
      Module 11 {
       twistAng -0.1153663
       rhoCentre 53.08
      }
      Module 12 {
       twistAng -0.0349066
       rhoCentre 52.76
      }
      Module 13 {
       twistAng -0.0436332
       rhoCentre 52.78
      }
      Module 14 {
       twistAng 0.0122173
       rhoCentre 52.73
      }
      Module 15 {
       twistAng -0.0122173
       rhoCentre 52.73
      }
      Module 16 {
       twistAng 0.0436332
       rhoCentre 52.78
      }
      Module 17 {
       twistAng 0.0349066
       rhoCentre 52.76
      }
      Module 18 {
       twistAng 0.1153663
       rhoCentre 53.08
      }
      Module 19 {
       twistAng 0.148353
       rhoCentre 53.31
      }
    }
    Ring 2 {
      @include-std CMS_Phase2/Pixel/ModuleTypes/pixel_1x2_25x100_wide
      @include-std CMS_Phase2/Pixel/Materials/module_FPIX_R2_1x2_2500
      @include-std CMS_Phase2/Pixel/Resolutions/25x100
      numModules 32
      ringOuterRadius 94.725
      smallDelta 3.5
      phiShift 0.01221730476396
      Module 0 {
       twistAng -0.1104793
      }
      Module 1 {
       twistAng -0.09564404
      }
      Module 2 {
       twistAng -0.08098328
      }
      Module 3 {
       twistAng -0.0663225
      }
      Module 4 {
       twistAng -0.05148721
      }
      Module 5 {
       twistAng -0.03682645
      }
      Module 6 {
       twistAng -0.02216568
      }
      Module 7 {
       twistAng -0.007330383
      }
      Module 8 {
       twistAng 0.007330383
      }
      Module 9 {
       twistAng 0.02199115
      }
      Module 10 {
       twistAng 0.03682645
      }
      Module 11 {
       twistAng 0.05148721
      }
      Module 12 {
       twistAng 0.06614798
      }
      Module 13 {
       twistAng 0.08098328
      }
      Module 14 {
       twistAng 0.09564404
      }
      Module 15 {
       twistAng 0.1103048
      }
      Module 16 {
       twistAng -0.1104793
      }
      Module 17 {
       twistAng -0.09564404
      }
      Module 18 {
       twistAng -0.08098328
      }
      Module 19 {
       twistAng -0.0663225
      }
      Module 20 {
       twistAng -0.05148721
      }
      Module 21 {
       twistAng -0.03682645
      }
      Module 22 {
       twistAng -0.02216568
      }
      Module 23 {
       twistAng -0.007330383
      }
      Module 24 {
       twistAng 0.007330383
      }
      Module 25 {
       twistAng 0.02199115
      }
      Module 26 {
       twistAng 0.03682645
      }
      Module 27 {
       twistAng 0.05148721
      }
      Module 28 {
       twistAng 0.06614798
      }
      Module 29 {
       twistAng 0.08098328
      }
      Module 30 {
       twistAng 0.09564404
      }
      Module 31 {
       twistAng 0.1103048
      }
    }
    Ring 3 {
      @include-std CMS_Phase2/Pixel/ModuleTypes/pixel_2x2_25x100_wide
      @include-std CMS_Phase2/Pixel/Materials/module_FPIX_R3_2x2_2500
      @include-std CMS_Phase2/Pixel/Resolutions/25x100
      numModules 24
      ringOuterRadius 126.725
      phiShift 0.026179938779915
      smallDelta 9
      Module 0 {
       twistAng -0.15708
      }
      Module 1 {
       twistAng -0.1284562
      }
      Module 2 {
       twistAng -0.1000074
      }
      Module 3 {
       twistAng -0.07138397
      }
      Module 4 {
       twistAng -0.04276057
      }
      Module 5 {
       twistAng -0.0143117
      }
      Module 6 {
       twistAng 0.0143117
      }
      Module 7 {
       twistAng 0.04276057
      }
      Module 8 {
       twistAng 0.07138397
      }
      Module 9 {
       twistAng 0.1000074
      }
      Module 10 {
       twistAng 0.1284562
      }
      Module 11 {
       twistAng 0.15708
      }
      Module 12 {
       twistAng -0.15708
      }
      Module 13 {
       twistAng -0.1284562
      }
      Module 14 {
       twistAng -0.1000074
      }
      Module 15 {
       twistAng -0.07138397
      }
      Module 16 {
       twistAng -0.04276057
      }
      Module 17 {
       twistAng -0.0143117
      }
      Module 18 {
       twistAng 0.0143117
      }
      Module 19 {
       twistAng 0.04276057
      }
      Module 20 {
       twistAng 0.07138397
      }
      Module 21 {
       twistAng 0.1000074
      }
      Module 22 {
       twistAng 0.1284562
      }
      Module 23 {
       twistAng 0.15708
      }
    }
    Ring 4 {
      @include-std CMS_Phase2/Pixel/ModuleTypes/pixel_2x2_25x100_wide
      @include-std CMS_Phase2/Pixel/Materials/module_FPIX_R4_2x2_2500
      @include-std CMS_Phase2/Pixel/Resolutions/25x100
      numModules 32 
      ringOuterRadius 159.99                // ????? What is the constrainst on Rmax ?
      phiShift 0.017453292519943
      smallDelta 3.5
      Module 0 {
       twistAng -0.1157153
       rhoCentre 139.84
      }
      Module 1 {
       twistAng -0.1001819
       rhoCentre 140.03
      }
      Module 2 {
       twistAng -0.084823
       rhoCentre 140.23
      }
      Module 3 {
       twistAng -0.0694641
       rhoCentre 140.43
      }
      Module 4 {
       twistAng -0.05393067
       rhoCentre 140.64
      }
      Module 5 {
       twistAng -0.03857178
       rhoCentre 140.85
      }
      Module 6 {
       twistAng -0.02321288
       rhoCentre 141.07
      }
      Module 7 {
       twistAng -0.007679449
       rhoCentre 141.29
      }
      Module 8 {
       twistAng 0.007679449
       rhoCentre 141.29
      }
      Module 9 {
       twistAng 0.02303835
       rhoCentre 141.07
      }
      Module 10 {
       twistAng 0.03857178
       rhoCentre 140.85
      }
      Module 11 {
       twistAng 0.05393067
       rhoCentre 140.64
      }
      Module 12 {
       twistAng 0.06928957
       rhoCentre 140.43
      }
      Module 13 {
       twistAng 0.084823
       rhoCentre 140.23
      }
      Module 14 {
       twistAng 0.1001819
       rhoCentre 140.03
      }
      Module 15 {
       twistAng 0.1155408
       rhoCentre 139.84
      }
      Module 16 {
       twistAng -0.1157153
       rhoCentre 139.84
      }
      Module 17 {
       twistAng -0.1001819
       rhoCentre 140.03
      }
      Module 18 {
       twistAng -0.084823
       rhoCentre 140.23
      }
      Module 19 {
       twistAng -0.0694641
       rhoCentre 140.43
      }
      Module 20 {
       twistAng -0.05393067
       rhoCentre 140.64
      }
      Module 21 {
       twistAng -0.03857178
       rhoCentre 140.85
      }
      Module 22 {
       twistAng -0.02321288
       rhoCentre 141.07
      }
      Module 23 {
       twistAng -0.007679449
       rhoCentre 141.29
      }
      Module 24 {
       twistAng 0.007679449
       rhoCentre 141.29
      }
      Module 25 {
       twistAng 0.02303835
       rhoCentre 141.07
      }
      Module 26 {
       twistAng 0.03857178
       rhoCentre 140.85
      }
      Module 27 {
       twistAng 0.05393067
       rhoCentre 140.64
      }
      Module 28 {
       twistAng 0.06928957
       rhoCentre 140.43
      }
      Module 29 {
       twistAng 0.084823
       rhoCentre 140.23
      }
      Module 30 {
       twistAng 0.1001819
       rhoCentre 140.03
      }
      Module 31 {
       twistAng 0.1155408
       rhoCentre 139.84
      }
    }
    
    Disk 1 { placeZ 250.00 }
    Disk 2 { placeZ 319.76 }
    Disk 3 { placeZ 408.99 }
    Disk 4 { placeZ 523.11 }
    Disk 5 { placeZ 669.08 }
    Disk 6 { placeZ 840.78 }     
    Disk 7 { placeZ 1109.57 }   
    Disk 8 { placeZ 1400.00 }

    Disk 1 { destination FPIX1 }
    Disk 2 { destination FPIX2 }
    Disk 3 { destination FPIX3 }
    Disk 4 { destination FPIX4 }
    Disk 5 { destination FPIX5 }
    Disk 6 { destination FPIX6 }
    Disk 7 { destination FPIX7 }
    Disk 8 { destination FPIX8 }
  }
